@model coincontrol.Models.Meta.Meta

@{
    ViewData["PageTitle"] = "Crie uma nova meta";
}

<div class="row">
    <div id="toast-container"></div>
    <div class="col-md-7">
        <div class ="widget p-5" style="background-color:#212b36">
            <form asp-action="Create">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="mb-3">
                    <ejs-numerictextbox id="ValorTotal" placeholder="Meta" ejs-for="ValorTotal" floatLabelType="Always" min="0"></ejs-numerictextbox>
                    <span asp-validation-for="ValorTotal" class="text-danger fs-6"></span>
                </div>
                <div class="mb-3">
                    <ejs-dropdownlist id="ddlCategory" ejs-for="IdCategoria"
                                      dataSource="@ViewBag.IdCategoria" placeholder="Categoria"
                                      floatLabelType="Always" allowFiltering="true" ignoreAccent="true"
                                      filterType="Contains" popupHeight="220px">
                        <e-dropdownlist-fields value="CategoryId" text="TituloComIcone"></e-dropdownlist-fields>
                    </ejs-dropdownlist>
                    <span asp-validation-for="IdCategoria" class="text-danger"></span>
                </div>
                <ejs-button id="submit" type="submit" content="Adicionar" cssClass="e-success"></ejs-button> |
                <a class="btn btn-danger" asp-action="Index">Voltar</a> |
                <a class="btn btn-primary" asp-action="AddOrEdit" asp-controller="Category">Criar Categoria</a>
            </form>
        </div>
    </div>

    @section Scripts {
        <script>
                var alerta = '@TempData["Alerta"]';
                if (alerta) {
                    var toast = new ejs.notifications.Toast({
                        title: 'Alerta!',
                        content: alerta,
                        cssClass: 'e-toast-danger',
                        position: { X: 'Center', Y: 'Top' },
                    });
                    toast.appendTo('#toast-container');
                    toast.show();
                }
        </script>
    }
</div>